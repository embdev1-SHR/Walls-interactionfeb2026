<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Interactive Wall Painter</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
    :root{--glass: rgba(255,255,255,0.06);--glass-2: rgba(255,255,255,0.04);--accent-a:#7c3aed;--accent-b:#06b6d4}
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background: radial-gradient(1200px 600px at 10% 10%, rgba(124,58,237,0.08), transparent), linear-gradient(180deg,#07070a 0%, #0f1724 100%);
      touch-action: none;
      font-family: 'Space Grotesk', Arial, sans-serif;
      color: #ecf2ff;
    }

    canvas {
      display: block;
      background: #fff;
      width:100vw;height:100vh;
    }

    /* Right-side vertical toolbar (top-down) */
    .toolbar {
      position: fixed;
      right: 18px;
      top: 96px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      padding: 10px;
      border-radius: 14px;
      background: var(--glass);
      backdrop-filter: blur(8px) saturate(120%);
      box-shadow: 0 10px 30px rgba(2,6,23,0.6);
      z-index: 1200;
      border: 1px solid rgba(255,255,255,0.04);
    }

    .toolbar button {
      width: 64px;
      height: 64px;
      border-radius: 12px;
      display:flex;
      align-items:center;
      justify-content:center;
      background: rgba(6,7,20,0.36); /* darker translucent background for contrast */
      color: rgba(255,255,255,0.9);
      border: 1px solid rgba(255,255,255,0.06);
      cursor: pointer;
      font-weight: 700;
      transition: transform .18s ease, box-shadow .18s ease, background .18s ease, color .12s ease;
      -webkit-tap-highlight-color: transparent;
      backdrop-filter: blur(6px);
    }

    .toolbar button:hover{ transform: translateY(-4px); box-shadow: 0 8px 20px rgba(2,6,23,0.6); }

    .toolbar button .label{ display:none; }

    /* SVG sizing inside toolbar buttons */
    .toolbar button svg{ width:26px; height:26px; color: inherit; stroke-width:1.8 }

    /* Make SVG strokes inherit and give better contrast against glass */
    .toolbar button{ color: rgba(255,255,255,0.9); }
    .toolbar button svg{ stroke: currentColor; fill: none; }
    .toolbar button:hover{ color: #fff; background: rgba(12,14,22,0.5); }
    .toolbar button.active{ color: #fff; }

    .toolbar button.active{
      background: linear-gradient(135deg,var(--accent-a),var(--accent-b));
      box-shadow: 0 10px 30px rgba(99,102,241,0.18);
      border-color: rgba(255,255,255,0.08);
      transform: translateY(-6px);
      color: #fff;
    }

    /* Tooltip labels visible on wide screens */
    @media(min-width:760px){
      .toolbar button .label{ display:block; position:absolute; right:80px; background:rgba(6,7,20,0.7); padding:6px 10px; border-radius:8px; font-weight:600; font-size:14px; color:#fff; white-space:nowrap; opacity:0; transform:translateX(6px); transition:opacity .12s, transform .12s; }
      .toolbar button:hover .label{ opacity:1; transform:translateX(0); }
    }

    /* Back button moved bottom-left */
    .back-button {
      position: fixed;
      left: 18px;
      bottom: 18px;
      background: linear-gradient(90deg,#ef4444,#f97316);
      color: #fff;
      border: none;
      padding: 12px 18px;
      border-radius: 12px;
      cursor: pointer;
      font-size: 16px;
      z-index: 1200;
      transition: transform .14s ease, box-shadow .14s ease;
      box-shadow: 0 8px 24px rgba(15,23,42,0.5);
      font-weight:700;
    }

    .back-button:hover{ transform: translateY(-3px); }
    </style>
</head>
<body>

<div class="toolbar">
  <button data-brush="pen" class="active" title="Pen" aria-label="Pen brush">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
      <path d="M3 21v-3l11-11 3 3L6 21H3z"></path>
      <path d="M14 7l3 3"></path>
    </svg>
    <span class="label">Pen</span>
  </button>

  <button data-brush="soft" title="Soft" aria-label="Soft brush">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
      <path d="M2 12c2-4 8-6 12-6 3 0 6 1 8 4v6a2 2 0 0 1-2 2c-3 0-6-1-8-3-4-3-8-3-10-3z" />
      <path d="M7 17c0 1.5 2.5 3 5 3s5-1.5 5-3" />
    </svg>
    <span class="label">Soft</span>
  </button>

  <button data-brush="marker" title="Marker" aria-label="Marker brush">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
      <path d="M2 12l6 6 10-10-6-6L2 12z" />
      <path d="M7 17l-3 3" />
    </svg>
    <span class="label">Marker</span>
  </button>

  <button data-brush="spray" title="Spray" aria-label="Spray brush">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
      <rect x="3" y="3" width="18" height="6" rx="1" />
      <path d="M7 21a4 4 0 0 1 8 0" />
      <path d="M12 9v2" />
      <circle cx="17" cy="17" r="1" />
      <circle cx="19" cy="14" r="1" />
      <circle cx="14" cy="19" r="1" />
    </svg>
    <span class="label">Spray</span>
  </button>

  <button data-brush="ink" title="Ink" aria-label="Ink brush">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
      <path d="M12 2s4 4 4 7a4 4 0 0 1-8 0c0-3 4-7 4-7z" />
      <path d="M8 21h8" />
    </svg>
    <span class="label">Ink</span>
  </button>
</div>

<button class="back-button" onclick="window.location.href='index.html'">‚Üê Back to Menu</button>

<canvas id="canvas"></canvas>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

resizeCanvas();
window.addEventListener("resize", resizeCanvas);

ctx.lineCap = "round";
ctx.lineJoin = "round";

let currentBrush = "pen";
const pointers = new Map();

// ---------- UI ----------
document.querySelectorAll(".toolbar button").forEach(btn => {
  btn.onclick = () => {
    document.querySelectorAll(".toolbar button")
      .forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
    currentBrush = btn.dataset.brush;
  };
});

// ---------- Utils ----------
function randomColor() {
  return `hsl(${Math.random() * 360}, 80%, 50%)`;
}

// ---------- Pointer Events ----------
canvas.addEventListener("pointerdown", e => {
  canvas.setPointerCapture(e.pointerId);

  pointers.set(e.pointerId, {
    x: e.clientX,
    y: e.clientY,
    color: randomColor()
  });
});

canvas.addEventListener("pointermove", e => {
  if (!pointers.has(e.pointerId)) return;
  const p = pointers.get(e.pointerId);

  drawBrush(p, e.clientX, e.clientY);

  p.x = e.clientX;
  p.y = e.clientY;
});

canvas.addEventListener("pointerup", stop);
canvas.addEventListener("pointercancel", stop);
canvas.addEventListener("pointerout", stop);

function stop(e) {
  pointers.delete(e.pointerId);
}

// ---------- Brushes ----------
function drawBrush(p, x, y) {
  switch (currentBrush) {
    case "pen":
      ctx.globalAlpha = 1;
      ctx.lineWidth = 4;
      drawLine(p, x, y);
      break;

    case "soft":
      ctx.globalAlpha = 0.2;
      ctx.lineWidth = 20;
      drawLine(p, x, y);
      break;

    case "marker":
      ctx.globalAlpha = 0.8;
      ctx.lineWidth = 12;
      drawLine(p, x, y);
      break;

    case "spray":
      spray(p, x, y);
      break;

    case "ink":
      ctx.globalAlpha = 0.9;
      ctx.lineWidth = 2 + Math.random() * 6;
      drawLine(p, x, y);
      break;
  }

  ctx.globalAlpha = 1;
}

function drawLine(p, x, y) {
  ctx.strokeStyle = p.color;
  ctx.beginPath();
  ctx.moveTo(p.x, p.y);
  ctx.lineTo(x, y);
  ctx.stroke();
}

function spray(p, x, y) {
  ctx.fillStyle = p.color;
  for (let i = 0; i < 20; i++) {
    const offsetX = (Math.random() - 0.5) * 30;
    const offsetY = (Math.random() - 0.5) * 30;
    ctx.fillRect(x + offsetX, y + offsetY, 1, 1);
  }
}

// ---------- Resize ----------
function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
</script>

</body>
</html>
