<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Forest Animals Showcase</title>
<script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.3.0/model-viewer.min.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{width:100%;height:100%;overflow:hidden}
body{
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
  background:#071a10;color:white;
  -webkit-user-select:none;user-select:none;
}

.scene{position:fixed;inset:0;z-index:0;pointer-events:none;overflow:hidden}
.firefly{
  position:absolute;width:4px;height:4px;border-radius:50%;
  background:#ffd54f;box-shadow:0 0 8px 3px rgba(255,213,79,.5);
  animation:fly var(--dur) ease-in-out infinite;
}
@keyframes fly{
  0%{opacity:0;transform:translate(0,0)}
  25%{opacity:1}
  50%{opacity:.3;transform:translate(var(--dx),var(--dy))}
  75%{opacity:1}
  100%{opacity:0;transform:translate(0,0)}
}
.leaf{
  position:absolute;font-size:16px;opacity:0;
  animation:leafDrop var(--dur) linear infinite;
}
@keyframes leafDrop{
  0%{transform:translate(0,-20px) rotate(0);opacity:0}
  10%{opacity:.6}
  90%{opacity:.4}
  100%{transform:translate(var(--dx),100vh) rotate(720deg);opacity:0}
}

.app{
  position:relative;z-index:1;
  width:100%;height:100%;
  display:flex;flex-direction:column;
}

.header{
  flex-shrink:0;text-align:center;
  padding:16px 20px 8px;
}
.header h1{
  font-size:clamp(22px,3.5vw,38px);font-weight:800;
  color:#a5d6a7;text-shadow:0 3px 12px rgba(0,0,0,.6);
  margin-bottom:4px;
}
.header p{
  font-size:clamp(12px,1.8vw,16px);
  color:rgba(255,255,255,.6);
}

.walls{
  flex:1;display:flex;gap:0;
  padding:8px 12px 8px;
  perspective:1400px;
  min-height:0;
}

.wall{
  flex:1;display:grid;
  grid-template-columns:1fr 1fr;
  grid-template-rows:1fr 1fr;
  gap:10px;padding:10px;
  border-radius:16px;
  min-height:0;
  transform-style:preserve-3d;
  transition:transform .4s ease;
}
.wall-left{
  background:rgba(129,199,132,.04);
  border:1px solid rgba(129,199,132,.15);
  transform-origin:right center;
  transform:rotateY(12deg);
}
.wall-center{
  background:rgba(129,199,132,.06);
  border:1px solid rgba(129,199,132,.2);
  margin:0 6px;
}
.wall-right{
  background:rgba(129,199,132,.04);
  border:1px solid rgba(129,199,132,.15);
  transform-origin:left center;
  transform:rotateY(-12deg);
}

.card{
  background:rgba(255,255,255,.05);
  border:1px solid rgba(129,199,132,.2);
  border-radius:14px;
  display:flex;flex-direction:column;
  overflow:hidden;
  transition:border-color .3s,box-shadow .3s;
  min-height:0;
}
.card:hover,.card.active{
  border-color:rgba(129,199,132,.6);
  box-shadow:0 4px 24px rgba(0,0,0,.4),0 0 16px rgba(129,199,132,.15);
}

.model-wrap{
  flex:1;position:relative;min-height:0;
  background:radial-gradient(ellipse at center,rgba(129,199,132,.08),transparent);
}
.model-wrap model-viewer{
  width:100%;height:100%;
  --poster-color:transparent;
}
.model-wrap model-viewer::part(default-progress-bar){
  background:rgba(129,199,132,.3);
}
.placeholder-label{
  position:absolute;bottom:8px;left:50%;transform:translateX(-50%);
  font-size:10px;color:rgba(255,255,255,.3);
  background:rgba(0,0,0,.3);padding:2px 8px;border-radius:8px;
  pointer-events:none;
}

.card-info{
  flex-shrink:0;padding:8px 12px;
  border-top:1px solid rgba(129,199,132,.1);
}
.card-name{
  font-size:clamp(13px,1.5vw,17px);font-weight:700;
  color:#81c784;margin-bottom:2px;
}
.card-latin{
  font-size:clamp(9px,1vw,11px);font-style:italic;
  color:rgba(255,255,255,.4);margin-bottom:4px;
}
.card-facts{display:flex;flex-wrap:wrap;gap:4px}
.fact{
  background:rgba(129,199,132,.12);
  border:1px solid rgba(129,199,132,.25);
  padding:2px 8px;border-radius:12px;
  font-size:clamp(8px,.9vw,11px);color:#a5d6a7;
}

.footer{
  flex-shrink:0;text-align:center;
  padding:8px 20px 14px;
}
.btn-back{
  padding:10px 30px;font-size:15px;font-weight:600;
  background:rgba(129,199,132,.12);
  border:2px solid rgba(129,199,132,.35);
  color:white;border-radius:50px;cursor:pointer;
  transition:all .3s;backdrop-filter:blur(8px);
}
.btn-back:hover{
  background:rgba(129,199,132,.22);
  border-color:rgba(129,199,132,.6);
  transform:scale(1.05);
}

.touch-ring{
  position:fixed;width:60px;height:60px;
  border:3px solid rgba(129,199,132,.6);border-radius:50%;
  pointer-events:none;z-index:9999;
  transform:translate(-50%,-50%) scale(0);
  animation:ringPop .6s ease forwards;
}
@keyframes ringPop{
  0%{transform:translate(-50%,-50%) scale(0);opacity:1}
  100%{transform:translate(-50%,-50%) scale(2);opacity:0}
}

@media(max-width:900px){
  .walls{flex-direction:column;padding:4px 8px}
  .wall{grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr}
  .wall-left{transform:none;transform-origin:center}
  .wall-right{transform:none;transform-origin:center}
  .wall-center{margin:4px 0}
  .header{padding:10px 16px 4px}
  .footer{padding:6px 16px 10px}
}
@media(max-width:600px){
  .walls{gap:4px}
  .wall{gap:6px;padding:6px}
  .card-info{padding:5px 8px}
  .card-facts{display:none}
}
</style>
</head>
<body>
<div class="scene" id="scene"></div>

<div class="app">
  <div class="header">
    <h1>Forest Animals Showcase</h1>
    <p>Touch and drag the 3D models to rotate them</p>
  </div>

  <div class="walls">
    <div class="wall wall-left" id="wallLeft"></div>
    <div class="wall wall-center" id="wallCenter"></div>
    <div class="wall wall-right" id="wallRight"></div>
  </div>

  <div class="footer">
    <button class="btn-back" onclick="location.href='../index.html'">Back to Menu</button>
  </div>
</div>

<script>
const ANIMALS = [
  {
    name:'Red Deer', latin:'Cervus elaphus',
    facts:['Herbivore','Up to 40 mph','Antlers regrow yearly'],
    model:'https://modelviewer.dev/shared-assets/models/Astronaut.glb'
  },
  {
    name:'Red Fox', latin:'Vulpes vulpes',
    facts:['Omnivore','40+ vocalizations','Magnetic field sense'],
    model:'https://modelviewer.dev/shared-assets/models/Astronaut.glb'
  },
  {
    name:'Brown Bear', latin:'Ursus arctos',
    facts:['Omnivore','35 mph sprint','Hibernates 5-7 months'],
    model:'https://modelviewer.dev/shared-assets/models/Astronaut.glb'
  },
  {
    name:'Great Horned Owl', latin:'Bubo virginianus',
    facts:['Carnivore','270\u00B0 head turn','Silent flight'],
    model:'https://modelviewer.dev/shared-assets/models/Astronaut.glb'
  },
  {
    name:'Raccoon', latin:'Procyon lotor',
    facts:['Omnivore','Dexterous paws','Nocturnal'],
    model:'https://modelviewer.dev/shared-assets/models/Astronaut.glb'
  },
  {
    name:'Red Squirrel', latin:'Sciurus vulgaris',
    facts:['Herbivore','10x body leap','Hides 10K nuts/yr'],
    model:'https://modelviewer.dev/shared-assets/models/Astronaut.glb'
  },
  {
    name:'Beaver', latin:'Castor fiber',
    facts:['Herbivore','Dam builder','Holds breath 15 min'],
    model:'https://modelviewer.dev/shared-assets/models/Astronaut.glb'
  },
  {
    name:'Grey Wolf', latin:'Canis lupus',
    facts:['Carnivore','Pack hunter','Howl carries 16 km'],
    model:'https://modelviewer.dev/shared-assets/models/Astronaut.glb'
  },
  {
    name:'Golden Eagle', latin:'Aquila chrysaetos',
    facts:['Carnivore','240 km/h dive','8x human vision'],
    model:'https://modelviewer.dev/shared-assets/models/Astronaut.glb'
  },
  {
    name:'Hedgehog', latin:'Erinaceus europaeus',
    facts:['Insectivore','~7000 spines','Immune to venom'],
    model:'https://modelviewer.dev/shared-assets/models/Astronaut.glb'
  },
  {
    name:'Forest Gecko', latin:'Phelsuma grandis',
    facts:['Insectivore','Tail regeneration','Sticky toe pads'],
    model:'https://modelviewer.dev/shared-assets/models/Astronaut.glb'
  },
  {
    name:'European Hare', latin:'Lepus europaeus',
    facts:['Herbivore','70 km/h speed','360\u00B0 vision'],
    model:'https://modelviewer.dev/shared-assets/models/Astronaut.glb'
  }
];

function buildCard(animal) {
  const card = document.createElement('div');
  card.className = 'card';

  const mw = document.createElement('div');
  mw.className = 'model-wrap';

  const mv = document.createElement('model-viewer');
  mv.setAttribute('src', animal.model);
  mv.setAttribute('camera-controls', '');
  mv.setAttribute('auto-rotate', '');
  mv.setAttribute('auto-rotate-delay', '0');
  mv.setAttribute('rotation-per-second', '24deg');
  mv.setAttribute('interaction-prompt', 'auto');
  mv.setAttribute('touch-action', 'none');
  mv.setAttribute('camera-orbit', '45deg 75deg auto');
  mv.setAttribute('min-camera-orbit', 'auto auto auto');
  mv.setAttribute('max-camera-orbit', 'auto auto auto');
  mv.setAttribute('shadow-intensity', '0.6');
  mv.setAttribute('shadow-softness', '0.8');
  mv.setAttribute('environment-image', 'neutral');
  mv.setAttribute('exposure', '0.8');
  mv.setAttribute('alt', animal.name + ' 3D model');
  mv.style.cssText = 'width:100%;height:100%;--poster-color:transparent;background:transparent';
  mw.appendChild(mv);

  const label = document.createElement('div');
  label.className = 'placeholder-label';
  label.textContent = 'Placeholder 3D Model';
  mw.appendChild(label);
  card.appendChild(mw);

  const info = document.createElement('div');
  info.className = 'card-info';
  info.innerHTML =
    '<div class="card-name">' + animal.name + '</div>' +
    '<div class="card-latin">' + animal.latin + '</div>' +
    '<div class="card-facts">' + animal.facts.map(function(f){return '<span class="fact">'+f+'</span>'}).join('') + '</div>';
  card.appendChild(info);

  return card;
}

const wallLeft = document.getElementById('wallLeft');
const wallCenter = document.getElementById('wallCenter');
const wallRight = document.getElementById('wallRight');

ANIMALS.forEach(function(animal, i) {
  var wall;
  if (i < 4) wall = wallLeft;
  else if (i < 8) wall = wallCenter;
  else wall = wallRight;
  wall.appendChild(buildCard(animal));
});

function buildParticles() {
  var sc = document.getElementById('scene');

  for (var i = 0; i < 24; i++) {
    var f = document.createElement('div');
    f.className = 'firefly';
    f.style.left = (Math.random() * 100) + '%';
    f.style.top = (Math.random() * 100) + '%';
    f.style.setProperty('--dur', (3 + Math.random() * 5) + 's');
    f.style.setProperty('--dx', ((Math.random()-.5)*100) + 'px');
    f.style.setProperty('--dy', ((Math.random()-.5)*100) + 'px');
    f.style.animationDelay = (Math.random() * 5) + 's';
    sc.appendChild(f);
  }

  var leafEmojis = ['\uD83C\uDF43','\uD83C\uDF42','\uD83C\uDF41'];
  for (var i = 0; i < 10; i++) {
    var l = document.createElement('div');
    l.className = 'leaf';
    l.textContent = leafEmojis[Math.floor(Math.random() * leafEmojis.length)];
    l.style.left = (Math.random() * 100) + '%';
    l.style.setProperty('--dur', (8 + Math.random() * 6) + 's');
    l.style.setProperty('--dx', ((Math.random()-.5)*150) + 'px');
    l.style.animationDelay = (Math.random() * 10) + 's';
    sc.appendChild(l);
  }
}

buildParticles();

function spawnRing(x, y) {
  var ring = document.createElement('div');
  ring.className = 'touch-ring';
  ring.style.left = x + 'px';
  ring.style.top = y + 'px';
  document.body.appendChild(ring);
  ring.addEventListener('animationend', function(){ring.remove()});
}

document.addEventListener('touchstart', function(e) {
  for (var i = 0; i < e.changedTouches.length; i++) {
    var t = e.changedTouches[i];
    spawnRing(t.clientX, t.clientY);
    var el = document.elementFromPoint(t.clientX, t.clientY);
    var card = el && el.closest('.card');
    if (card) card.classList.add('active');
  }
}, {passive:true});

document.addEventListener('touchend', function(e) {
  for (var i = 0; i < e.changedTouches.length; i++) {
    var t = e.changedTouches[i];
    document.querySelectorAll('.card.active').forEach(function(c){c.classList.remove('active')});
  }
});
</script>
</body>
</html>
